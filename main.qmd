---
title: LIS 461 In Class Examples
author: Mariah A. Knowles
format:
  html:
    code-fold: true
jupyter: julia-1.8
---

# Install Packages

```{julia}
using Pkg
Pkg.add("CSV")
Pkg.add("DataFrames")
Pkg.add("Plots")
Pkg.add(url="https://github.com/snotskie/EpistemicNetworkAnalysis.jl")
```

# Load Packages

```{julia}
using CSV
using DataFrames
using Plots
using EpistemicNetworkAnalysis
```

# Load Data

```{julia}
data = DataFrame(CSV.File("data.csv"))
for col in names(data)
    data[!, col] = replace(data[!, col], missing => 0)
end

data[!, :ID] = 1:nrow(data)
```

# Bar Chart

```{julia}
codes = [
    :GOOD_ASPECTS,
    :GOOD_CHASE,
    :GOOD_FLOW,
    :GOOD_TOP_DETAIL,
    :GOOD_VARIETY,

    # :CITATIONS,
    # :BURIED_CLAIM,
    # :THINKING,
    # :UNCLEAR_STRATEGY,
    # :SPECIFIC_CASE,
    # :MORAL_PREMISE,
    # :MIXED_THEORY,

    # :HEDGE,
    # :PASSIVE,
    # :WASHY,
    # :DOES_NOT_FOLLOW,
    # :HISTORY,
    # :ADJ,
    # :COMPLEX,
    # :JARGON,
    # :NOSE,
    # :PAREN_RHET_Q,
    # :PRONOUNS,
    # :SHOULD,
    # :SNARK,
    # :TIMING,
    # :WALL,
    # :EXAMPLES,
    # :REDUNDANT,
    # :SUMMARIZE,
    # :DAMAGE,
    # :DISTILL,
    # :MORELESS,
    # :PREMISE_CLAIM,
    # :STRAWMAN
]

plot(string.(codes),
    [sum(data[!, code]) for code in codes],
    seriestype=:bar,
    rotation=-90,
    xticks=:all)
```

# Biplot

```{julia}
biplotFilter(i, j, ci, cj) = i == j
# rotation = SVDRotation()
rotation = MulticlassRotation(:Grader)
# rotation = Means2Rotation(:MIXED_THEORY, 0, 1, :SPECIFIC_CASE, 0, 1)
ena = ENAModel(
    data, codes, [:ID], [:ID],
    relationshipFilter=biplotFilter,
    dropEmpty=true,
    rotateBy=rotation
)

plot(ena)
```
